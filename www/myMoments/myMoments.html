<ion-view title="Moment" id="page4">
	<ion-nav-title>
		<img class="title-image" src="img/header.png"/>
	</ion-nav-title>
	<ion-content padding="true" class="has-header">
<ion-refresher
on-refresh="vm.refreshing()">
</ion-refresher>
<div ng-show="vm.errorMessage" class="myMoments_NotFound">
	No Moments to Show
</div>
<div class="centerLikes">
	<img src="img/logo.png" class="totalLikesImage" height="50px" width="50px"></img></div>
	<div class="totalLikesText">{{vm.totalLikes}}<span class="totalNumberOfExtraLikes" ng-if="vm.extraLikes > 0"> (+{{vm.extraLikes}})</span></div>
	<br>
	<hr style="margin-top: 30px">
	<div class="row">
		<div class="col-75">
			<div class="location">{{vm.userLocation}}</div>
		</div>
		<div class="col">
			<button class="editButton col button button-energized " ng-click="vm.edit(true)"  ng-hide="vm.editing">Edit</button>
		</div>
	</div>
	<hr style="margin-bottom: 25px">
	<div class="row">
		<div class="col">
			<span class="searchRadiusText">Search Radius:</span><br>
			<div class = "radiusRange item range range-energized">
					<i>5</i>
					<input type = "range" name = "range" min="5" max="50" ng-model="vm.distance">
					<i> {{vm.distance}} Miles</i>
			</div>
		</div>
	</div>
	<hr>
<br>
<ion-list>
<div ng-repeat="image in vm.myImages">
	<ion-item-sliding>
	<ion-item ng-click="vm.toggleDescription(image)">
	<ion-thumbnail item-left>
	<img src="{{image.key}}" width="30%" height="30%" style="float: left;">
</ion-thumbnail>
<div class="myMoments_metaData">
	<div class="myMoments_likes">	
		<img src="img/logo.png" class="logoMomentLikes" height="30px" width="30px"></img>
		<div style="margin-bottom:2px">{{image.likes}} 
		<span class="numberOfExtraMomentLikes" ng-if="image.gainedLikes > 0"> (+{{image.gainedLikes}})</span></div>
	</div>
	<div class="ion-ios-clock-outline myMoments_time">{{image.time}}</div>
	<br>
	<div class="myMoments_description" ng-show="image.description.length > 0">
		<div ng-hide="image.showShortDescription > 0">{{image.shortDescription}}<br>
			<div class="myMoments_toggleDescription">show more...</div>
		</div>
		<div ng-show="image.showShortDescription > 0">{{image.description}}<br> 			
			<div class="myMoments_toggleDescription">show less</div> 
		</div>
		<br>
	</div>
			<div class="noDescription" ng-hide="image.description.length > 0">
				<br>No Description
	</div>
</div>
</ion-item>
<ion-item-options slide="left">
<!--<button ion-button color="danger">
	Remove
</button>-->
</ion-item-options>
</ion-item-sliding>
</div> <!--End of ng-repeat -->
</ion-list>
<div class = "row">
	<button class="col button button-assertive" data-ng-click="vm.feedback()" style="margin: 5px">Feedback</button>
</div>
</ion-content>
</ion-view>