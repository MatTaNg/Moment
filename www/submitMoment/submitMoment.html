<ion-view title="Moments" id="page2" cache-view="false">
<ion-content padding="true" class="has-header">
<img data-ng-if="vm.isPicture" src="{{vm.media}}" height="300px" width="100%"> </img>
 <video style="display:block;" data-ng-if="vm.isVideo" width="100%" height="300px" controls>
  <source src="{{vm.media}}" type="video/mp4"></source>
  </video> 
<div class="row">
  <div ng-show="vm.moment.description.length > vm.maxChars" style= "color: red">{{vm.moment.description}} </div>
  <div ng-show="vm.moment.description.length <= vm.maxChars">{{vm.moment.description}}</div>
</div>
<div class="row" ng-if="vm.moment.description">
  <div ng-show="vm.moment.description.length > vm.maxChars" style= "color: red">{{vm.moment.description.length}} / {{vm.maxChars}}</div>
  <div ng-show="vm.moment.description.length <= vm.maxChars" style= "color: green">{{vm.moment.description.length}} / {{vm.maxChars}}</div>
</div>
<div class="row">
    <div class="col">
      <label class="item item-input">
        <input type="text" data-ng-model="vm.moment.description" placeholder="Add a Description!">
      </label>
    </div>
    <button style="margin-right: 5px" class="col col-10 button button-positive">OK</button>
</div>
<div class="row">
  <div class="col"><ion-checkbox data-ng-model="vm.location">Show Location</ion-checkbox></div>
</div>
<div class="row">
  <div class="button-bar">
    <button class="button button-assertive" data-ng-click="vm.cancel()">Cancel</button>
    <button class="button button-positive" data-ng-disabled="core.currentLocation.town" data-ng-click="vm.submit()">Submit</button>
  </div>
</div>
</ion-content>
</ion-view>